<div id="admin_dashboard__content" class="col-lg-9">
	<div class="order-container">
		<div class="order-control">
			<h4>Danh sách đơn hàng</h4>
			<div class="order-filter ">
				<input class="filter" type="text" placeholder="Tìm theo ID đơn hàng">
				<input class="filter" type="text" placeholder="Tìm theo ID khách hàng">
				<div class="dropdown filter p-0 d-inline">
					<button class="btn btn-dropdown dropdown-toggle m-0  bg-white text-black" type="button" id="defaultDropdown"
						data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false">
						Trạng thái
					</button>
					<ul class="dropdown-menu" aria-labelledby="defaultDropdown">
						<li><a class="dropdown-item" href="#">Mới</a></li>
						<li><a class="dropdown-item" href="#">Đã xác nhận </a></li>
						<li><a class="dropdown-item" href="#">Đang giao </a></li>
						<li><a class="dropdown-item" href="#">Đã giao </a></li>
					</ul>	
				</div>
			</div>
			<div class="btn-list ">
				<button class="btn-lighter ">Làm mới</button>
				<button class="btn-purple ">Áp dụng</button>
				<button class="btn-purple ">Xuất excel</button>
			</div>
		</div>
		<div class="order-list ">
			<table class="table table-striped order-table ">
				<thead>
					<tr>
						<th scope="col " class="id">ID</th>
						<th scope="col " class="id">ID_KH</th>
						<th scope="col ">Thanh toán</th>
						<th scope="col ">Tổng tiền</th>
						<th scope="col ">Ngày mua</th>
						<th scope="col ">Trạng thái</th>
						<th scope="col ">Thao tác</th>
					</tr>
				</thead>
				<tbody id="table_content">
                {{#each orders}}
					<tr>
                        <td>{{this._id}}</th>
                        <td>{{this.customer_id}}</td>
                        <td>{{this.payment}}</td>
                        <td>{{this.total}}</td>                    
                        <td>{{timeToString this.date}}</td>
                        <td>
 							<button  class="button {{getClassByOrderStatus this.status}}   status "
                            >{{this.status}}</button>
                        </td>
                        <td>
                            <a href="#" 
							type="button" 
							data-toggle="modal" 
							data-target="#settingOrder"
							data-id="{{this.customer_id}}"
							data-payment="{{this.payment}}"
							data-total="{{this.total}}"

							>
                                <i class="fa-solid fa-edit"></i>
                            </a>
							<i class="fa-solid fa-trash ml-1 d-inline text-secondary"></i>
                        </td>
                    </tr>
                {{/each}}
            </tbody>
			</table>
		</div>
	</div>

	<!-- Edit don hang modal -->
	<div 
		class="modal fade" 
		id="settingOrder" 
		tabindex="-1" 
		role="dialog" 
		aria-labelledby="settingOrderTitle"
		aria-hidden="true"
	>
		<div class="modal-dialog modal-lg" 	role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h2 class="modal-title" id="settingOrderTitle">
						Chỉnh sửa đơn hàng
					</h2>
					<button 
						type="button" 
						class="close" 
						data-dismiss="modal" 
						aria-label="Close"
					>
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body order_modal">
					<form id="updateOrderForm" method="post">
						<div class="row editDonHang_topHalf pt-3">
							<div class="col-12 col-md-6 editDonHang_topHalf_left px-0 px-md-2">
								<h6>Thông tin liên hệ khách hàng</h6>
								<div>
									<div>
										<p>Tên khách hàng</p>
										<input 
										type="text" 
										name="name"
										id="inputUpdateName"
										placeholder="Name"
										>
									</div>
									<div>
										<p>Địa chỉ email</p>
										<input type="email" 
										name="email"
										id="inputUpdateEmail"
										placeholder="Email"
										>
									</div>
									<div>
										<p>Số điện thoại</p>
										<input type="text" 
										name="phone"
										id="inputUpdatePhone"
										placeholder="Phone"
										>
									</div>
								</div>
							</div>

							<div class="col-12 col-md-6 editDonHang_topHalf_right px-0 pt-2 pt-md-0">
								<div>
									<h6>Hình thức thanh toán</h6>
									<div>
										<p>Hình thức thanh toán</p>
										<div class="btn-group">
											<select 
											class="btn dropdown-toggle" 
											type="button" 
											name="payment"
											id="inputUpdatePayment" 
											data-toggle="dropdown"
												aria-haspopup="true" aria-expanded="false" name="payment_method">
												<option>Tiền mặt</a>
												<option>Chuyển tiền</a>
											</select>
										</div>
									</div>
								</div>

								<div>
									<h6>Trạng thái đơn hàng</h6>
									<div>
										<p>Trạng thái</p>
										<div class="btn-group">
											<select 
											class="btn dropdown-toggle"
											type="button" 
											id="inputUpdateStatus"
											name="status" 
											data-toggle="dropdown"
												aria-haspopup="true" 
												aria-expanded="false" 
												name="delivery_status">
												<option>Mới</option>
												<option>Đã xác nhận</option>
												<option>Đang giao</option>
												<option>Đã giao</option>
											</select>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="editDonHang_bottomHalf">
							<h6>Thông tin liên hệ khách hàng</h6>
							<div>
								<div class="row">
									<p>Địa chỉ giao hàng</p>
									<input type="text" 
									name="address"
									id="inputUpdateAddress"
									placeholder="Addres"
									>
								</div>
								<div class="row">
									<div class="col-12 col-md-4 pl-0 pr-0 pr-md-3">
										<p>Tỉnh/Thành phố</p>
										<input 
										type="text" 
										name="city"
										id="inputUpdateCity"
										placeholder="City"
										>
									</div>
									<div class="col-12 col-md-4 pl-0 pr-0 pr-md-3">
										<p>Quận/Huyện</p>
										<input 
										type="text" 
										name="district"
										id="inputUpdateDistrict"
										placeholder="District"
										>
									</div>
									<div class="col-12 col-md-4 px-0">
										<p>Phường/Xã</p>
										<input 
										type="text" 
										name="ward"
										id="inputUpdateWard"
										placeholder="Ward"
										>
									</div>
								</div>
							</div>
						</div> 
					
					<div class="modal-footer">
						 <button
                            type="submit"
                            class="btn btn-success"
                            id="btnUpdateOrder"
                        >
                            Cập nhật
                        </button>
						<button type="button" 
						class="btn btn-danger" 
						data-dismiss="modal">
						Huỷ đơn	hàng
						</button>
					</div>
					</form>
				</div>

				
			</div>
		</div>
	</div>
	<!-- Edit don hang modal -->
</div>


{{!-- <script>
	var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
	var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
		return new bootstrap.Dropdown(dropdownToggleEl)
	})
</script> --}}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

<script src="/js/donhang.js"></script>
