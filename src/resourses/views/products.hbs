<div id="admin_dashboard__content" class="col-lg-9">
    <div id="filter_bar">
        <h4 class="filter_heading">Danh sách sản phẩm</h4>
        <div class="filter_row">
            <div class="btn-group">
                <button
                    class="btn dropdown-toggle"
                    type="button"
                    id="dropdownMenuButton"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                >
                    Chọn loại sản phẩm
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="#">PhinDi Hạnh Nhân</a>
                    <a class="dropdown-item" href="#">PhinDi Hạnh Nhân</a>
                </div>
            </div>
            <input
                class="filter_input btn"
                type="text"
                placeholder="Nhập tên để tìm kiếm"
            />
            <button
                type="button"
                class="btn btn-outline filter_button"
                data-toggle="modal"
                data-target="#modal_AddProduct"
            >
                + Thêm sản phẩm
            </button>
        </div>
    </div>
    <div id="list_product">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Mã</th>
                    <th scope="col">Hình ảnh</th>
                    <th scope="col">Tên sản phẩm</th>
                    <th scope="col">Số lượng</th>
                    <th scope="col">Giá</th>
                    <th scope="col">Mô tả</th>
                    <th scope="col">Danh mục</th>
                    <th scope="col">Thao tác</th>
                </tr>
            </thead>
            <tbody id="table_content">
                {{#each products}}
                    <tr>
                        <td scope="row">{{this._id}}</td>
                        <td>
                            <img
                                src={{this.image}}
                                width="40"
                                height="40"
                                class="rounded-circle"
                            />
                        </td>
                        <td>{{this.name}}</td>
                        <td>{{this.number}}</td>
                        <td>{{this.price}}</td>
                        <td>{{this.description}}</td>
                        <td>{{this.categoryName}}</td>
                        <td>
                            <span
                                data-toggle="modal"
                                data-target="#settingProduct"
                                data-id="{{this._id}}"
                                data-name="{{this.name}}"
                                data-description="{{this.description}}"
                                data-price="{{this.price}}"
                                data-number="{{this.number}}"
                            >
                                <i class="fa-solid fa-edit"></i>

                            </span>

                            <span
                                data-toggle="modal"
                                data-target="#confirmDeleteModal"
                                data-id={{this._id}}
                            ><i
                                    class="fa-solid fa-trash ml-1 d-inline text-secondary"
                                ></i></span>
                        </td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</div>
<!-- Edit Product modal -->
<div
    class="modal fade"
    id="settingProduct"
    tabindex="-1"
    role="dialog"
    aria-labelledby="settingProductTitle"
    aria-hidden="true"
>
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="settingProductTitle">
                    Chỉnh sửa sản phẩm
                </h2>
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="SanPham_body">
                <form
                    id="updateProductForm"
                    method="post"
                    enctype="multipart/form-data"
                >
                    <div>
                        <p>Tên sản phẩm</p>
                        <input type="text" name="name" id="inputUpdateName" />
                    </div>
                    <div>
                        <p>Mô tả</p>
                        <input
                            type="text"
                            name="description"
                            id="inputUpdateDescription"
                        />
                    </div>
                    <div class="giaca_soluong">
                        <div>
                            <p>Giá cả</p>
                            <input
                                type="text"
                                name="price"
                                id="inputUpdatePrice"
                            />
                        </div>
                        <div>
                            <p>Số lượng</p>
                            <input
                                type="number"
                                name="number"
                                id="inputUpdateNumber"
                            />
                        </div>
                    </div>
                    <div>
                        <label>Hình ảnh</label>
                        <input
                            type="file"
                            name="image"
                            accept=".jpg, .jpeg, .png, .jpg, .webp"
                        />
                    </div>
                </form>
                {{! <div>
                        <p>Hình ảnh</p>
                        <form
                            action="/"
                            class="dropzone"
                            id="my-dropzone"
                            method="post"
                        ></form>
                    </div> }}
            </div>

            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                >
                    Hủy
                </button>
                <button
                    type="submit"
                    form="updateProductForm"
                    class="btn btn-success"
                    data-dismiss="modal"
                    id="btnUpdateProduct"
                >
                    Xác nhận
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Add Product modal -->
<div
    class="modal fade"
    id="modal_AddProduct"
    tabindex="-1"
    role="dialog"
    aria-labelledby="modal_AddProductTitle"
    aria-hidden="true"
>
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal_AddProductTitle">
                    Thêm sản phẩm
                </h2>
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="SanPham_body">
                <form
                    method="post"
                    action="/products"
                    enctype="multipart/form-data"
                >
                    <div>
                        <label>Tên sản phẩm</label>
                        <input type="text" name="name" id="InputName" />
                    </div>
                    <div>
                        <label>Mô tả</label>
                        <input
                            type="text"
                            name="description"
                            id="InputDescription"
                        />
                    </div>
                    <div class="giaca_soluong">
                        <div>
                            <label>Giá cả</label>
                            <input type="text" name="price" id="InputPrice" />
                        </div>
                        <div>
                            <label>Số lượng</label>
                            <input
                                type="number"
                                name="number"
                                id="InputNumber"
                            />
                        </div>
                    </div>
                    <div>
                        <label>Hình ảnh</label>
                        <input
                            type="file"
                            name="image"
                            accept=".jpg, .jpeg, .png, .jpg, .webp"
                        />
                    </div>

                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            Hủy
                        </button>

                        <button type="submit" class="btn btn-success">
                            Xác nhận
                        </button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

<!--Confirm Delete Modal -->
<div
    class="modal fade"
    id="confirmDeleteModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="modelTitleId"
    aria-hidden="true"
>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xóa sản phẩm</h5>
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Xác nhận xóa sản phẩm này?
            </div>
            <div class="modal-footer">
                <button
                    id="btn-delete-product"
                    type="button"
                    class="btn btn-danger"
                >Xóa</button>
                <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                >Hủy</button>
            </div>
        </div>
    </div>
</div>

<form method="POST" name="delete-product-form"></form>

<script src="/js/sanpham.js"></script>